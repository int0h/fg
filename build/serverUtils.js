"use strict";
var fs = require('fs');
;
function toJs(obj, opts, tabOffest) {
    if (opts === void 0) { opts = {}; }
    opts.tab = opts.tab || '\t';
    opts.n = opts.n || '\n';
    tabOffest = tabOffest || 0;
    var tabPrefix = '';
    for (var i = 0; i < tabOffest; i++) {
        tabPrefix += opts.tab;
    }
    ;
    if (obj === null) {
        return "null";
    }
    ;
    if (["string", "number", "boolean"].indexOf(typeof obj) >= 0) {
        return JSON.stringify(obj);
    }
    ;
    if (typeof obj === "function") {
        var code = obj.toString();
        var lines = code.split(opts.n);
        code = lines.slice(0, 1).concat(lines.slice(1).map(strPrefix.bind(null, tabPrefix)))
            .join(opts.n);
        return code;
    }
    ;
    if (typeof obj === "object") {
        var codeParts = void 0;
        if (Array.isArray(obj)) {
            codeParts = obj.map(function (val) {
                return tabPrefix + opts.tab + toJs(val, opts, tabOffest + 1);
            });
            return '[' + opts.n + codeParts.join(',' + opts.n) + opts.n + tabPrefix + ']';
        }
        ;
        codeParts = [];
        for (var key in obj) {
            if (obj[key] === undefined) {
                continue;
            }
            ;
            codeParts.push(tabPrefix + opts.tab + '"' + key + '": ' + toJs(obj[key], opts, tabOffest + 1));
        }
        ;
        return '{' + opts.n + codeParts.join(',' + opts.n) + opts.n + tabPrefix + '}';
    }
    ;
}
exports.toJs = toJs;
;
function strPrefix(prefix, str) {
    return prefix + str;
}
exports.strPrefix = strPrefix;
;
function prefixLines(str, prefix, triggerFn) {
    var lines = str.split('\n').map(function (line, id) {
        if (!triggerFn || triggerFn(line, id, lines)) {
            return prefix + line;
        }
        ;
        return line;
    });
    return lines.join('\n');
}
exports.prefixLines = prefixLines;
;
function fileExist(path) {
    try {
        fs.accessSync(path);
    }
    catch (e) {
        return false;
    }
    ;
    return true;
}
exports.fileExist = fileExist;
;
function forTree(treeObj, childProp, fn) {
    fn(treeObj);
    if (treeObj[childProp]) {
        treeObj[childProp].forEach(function (node) {
            forTree(node, childProp, fn);
        });
    }
    ;
}
exports.forTree = forTree;
;
function getSubFolders(path) {
    return fs.readdirSync(path).filter(function (subPath) {
        var stat = fs.statSync(path + '/' + subPath);
        return stat.isDirectory();
    });
}
exports.getSubFolders = getSubFolders;
;
function treeMap(treeObj, childProp, fn) {
    var res = {};
    res = fn(treeObj);
    if (treeObj[childProp]) {
        treeObj[childProp].forEach(function (node, id) {
            res[childProp][id] = treeMap(node, childProp, fn);
        });
    }
    ;
    return res;
}
exports.treeMap = treeMap;
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyVXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc2VydmVyVXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBS3RCLENBQUM7QUFFRixjQUFxQixHQUFRLEVBQUUsSUFBb0IsRUFBRSxTQUFrQjtJQUF4QyxvQkFBb0IsR0FBcEIsU0FBb0I7SUFDbEQsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQztJQUM1QixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO0lBQ3hCLFNBQVMsR0FBRyxTQUFTLElBQUksQ0FBQyxDQUFDO0lBQzNCLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNuQixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBQyxDQUFDO1FBQ25DLFNBQVMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3ZCLENBQUM7SUFBQSxDQUFDO0lBQ0YsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFBLENBQUM7UUFDakIsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFBQSxDQUFDO0lBQ0YsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBLENBQUM7UUFDN0QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUFBLENBQUM7SUFDRixFQUFFLENBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxVQUFVLENBQUMsQ0FBQSxDQUFD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